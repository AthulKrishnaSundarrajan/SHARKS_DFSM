function [Y,Xf,Af] = mynet(X,~,~)
%MYNET neural network simulation function.
%
% Auto-generated by MATLAB, 08-Mar-2022 00:53:09.
% 
% [Y] = mynet(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 8xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 3xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.609185224449949;-0.100073206718493;-0.352815487910983;-0.354450773458955;-0.804504652144976;0.0617420712346222;0.559858721715479;0.387103189928452];
x1_step1.gain = [5.11751378177836;1.81806142129097;1.47840571922737;1.47661328059377;1.10837965656317;2.13161001754787;4.54399552751592;3.26319205310683];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.49123392167546042764;-1.566320859350297523;0.62259124332601867291;0.010020064927986002679;0.11780739819365561305;0.37881763522136435718;-0.52278012996093403686;-1.2295664552561218485;0.81822303841845722694;0.44506888824422224937;1.4585097866073810646;-0.17672398301528313702;0.58103140127734631548;0.18667245028903858839;0.0093804733104225490603;0.60359047406051846707;-0.5578186812993607413;-1.6454100777206623896;-2.771891488680999327;-0.59095030016156635533;-1.4594205932714967577;-0.23615658302396233537;3.4229725206811054683;-0.47007579711596614302;-0.26224215028556707718;-0.48067292788918392077;0.54996609222507197856;0.7624381258676760087;0.84969388515578736509;1.1995558871042111271];
IW1_1 = [-3.1796037800064822498 -0.85188392311940708268 0.25793105688259698738 -0.18721386737265607869 -0.24096269590562444107 0.87323137880320467197 -0.034406684435648052234 0.84130523648385135971;-4.2645253078866645069 -0.52908010397562965643 -0.93357069334956177542 0.099352855822869151625 -0.22386492230989810115 1.5425671382459684722 -0.20064791505229020996 -0.46117715785420398955;-1.2713388359910093861 -2.1528977141154621577 -1.0209590667557222332 -0.031994960114464662815 -0.93436442699691457658 1.6455392593506099619 -0.15505511626770956957 0.80713021303691634412;-0.052255840417957340194 -0.29326061269429926082 0.4850629732073887812 -0.15400599780289631058 0.017106278427150279492 0.010980722415799195474 0.033359950404101439136 -0.055823351324236721027;0.31121720773658329007 -0.21332571038472269986 0.077738961203093204233 0.92242782505557596728 0.097366782316124847463 1.051610703801375335 -1.1235623917848638342 0.15220859395591376795;-2.9025429895398091595 -0.73568011699455060359 -0.37483891065323798886 -0.42897287526283817138 -0.069366278274022460937 -2.2549847008178627306 -0.098431574246939920747 0.77617820157510930557;-1.5585942219758222027 -1.3942269463117964445 -0.30744953667629820737 -0.31617813901386998543 -0.25131848193544681358 -0.32802710158153908226 -0.091626102449250332316 0.71362793979028960045;-5.1249863110406943534 -1.8778229668717276724 -0.4839621047638070217 -0.12870286985164205995 -0.32659283606305072878 -1.8244917556270054959 -0.24171120610143556617 1.7914168642343331062;-2.2184563021078660405 3.0318814689779416405 -0.41988701726366817191 0.049678517124924582993 0.10267927582506138073 -3.9106755636206580462 -0.065775608607909291647 1.213912746724059355;0.19059522551184529537 -3.8319917459942871574 -0.26034155149328808143 -0.039985090196807959728 0.023967402991047569161 -4.3458221808438581846 -0.017970081032253299586 0.33682872780557465697;1.281450608701429239 -2.0775720501957559705 0.3545432872209828834 0.13890305828180865566 -0.24551856673910202322 -2.2632472014737401445 0.0070566747238656798297 -0.035305727447952815756;-1.0648930820171087497 -2.1555172412193122078 -0.50292205156248537268 0.38958079992839483863 -0.30851758112887162078 2.8154555851661369203 -0.092837050140348223448 1.1540609586148173893;4.579337671015061062 0.61093254195953661245 -1.1980341950139106189 -0.98278769054407244532 0.080323121390816237808 -4.7097691493973350418 0.19555658965325220522 0.39204149559044476625;-2.7186686571076368324 2.7324723514072686292 -0.061077503638798123775 -0.23520449232668827477 -0.01086112000336735689 -3.2504234038135138007 -0.18625226875568504092 -1.2568652350493012548;2.1810264996238206692 2.9248777721002023888 0.42835906716104205083 -0.26262785290315898701 0.29905616265915174745 2.7012198641290647849 0.20401860533295024247 -0.62013040215726833448;-2.0674374196485389987 -0.40376871275959869134 0.2893931658907547555 1.2639776178991983802 0.12975302585450471105 0.56763816471717687406 -0.12189720502082075637 0.28533314111348906383;0.81215471891902435431 0.52386199895551655015 -0.055207906448607381444 0.10885575423102596127 -0.5106860856882009525 1.347995802618083161 -0.035698905503669269013 -0.64910800271367852243;3.6043433875955610546 -0.33729605060326250943 -0.49343408522768272828 -0.32373529209858581401 -0.27659864380263821104 3.6011500761045915908 0.11678450990102882956 -0.10791605078677572738;-0.43439371427141865167 -3.5847150188271146298 0.20772145361421531784 -0.024319657913031107049 0.023682060443539976885 8.1439859995545056393 -0.020955502335790313073 -2.5979163842803223439;-4.7439242243962285173 0.6254556801987948278 -0.14370469220692252965 -0.24039733264553567182 0.089443165894316375986 -6.2584271100373918273 -0.15804158289878197929 2.3013402894245071906;1.3594098886772909562 -2.6845792985056746716 0.009306180809804843676 -0.14840156297867690416 -0.017003987703727459907 3.1472061764270322648 0.087885372140639100857 -1.0835415359609144037;0.84301714187243292908 -0.24538474637897803032 1.3823859184709528236 -0.46849842683286019307 0.43606989893640712985 2.2747697894050542544 0.15077091581049523183 0.014662019960321357251;0.67244931719370593104 -0.93057335975295329966 0.25584551750301148809 0.16298540901686550675 0.22619815102524315487 3.1493282069312735771 -1.3378993410009369924 -0.89630956506864367661;0.59118025649519589937 0.65144409549169468576 -0.1876067861361067346 0.46345525417366834064 0.68919489749953555258 1.5446043294174924831 -0.019250724826136548368 -0.44518222806799995217;0.45239767506007300124 2.4115103466823111233 1.5485238896372981454 -0.19640782007235807471 0.16656829530743502699 -4.6602621273655877587 0.059112749305791932597 1.3243757752346421164;2.2373345327912996794 -2.1474113066388520465 0.42361584943564223327 -0.011407016687345042719 0.63322767680113312139 0.52501127304289496589 0.12650808423378243073 0.021570730189951960176;-0.8877530864724952897 -0.6052085913994467159 -0.39682077099435569822 -1.3836541592626248054 0.65339348064240387881 -1.0640110396758648559 -0.16697743781389148832 -1.844462677107973958;3.0904354920400107787 3.0811265914456655857 0.50442835327182300453 0.030928036989655374039 -0.10457588486410211714 -3.6902384170164395094 0.077607920978783231925 1.0031313356306410522;4.9068954013466319353 -1.9968336409047964253 -0.5760312150893922567 -0.49412603769302421153 -0.20581687676629953354 -5.8238371053981214942 0.24245438613272479733 2.9688021909550625921;2.6760547533008289811 -1.0579223653070457534 -0.93819888850254529178 0.24717257345915169542 0.045861339219376469345 0.77327045718663589557 0.076263999380442620835 -0.55971031038123442158];

% Layer 2
b2 = [0.40891487090699640827;-0.46063339859535035181;-2.3222630278103690848;-0.84039536505090917107;0.81487093071874117101;-0.51947614987549872723;-3.1249541104095501787;-3.5647118018571539722;2.6656813432115229467;-0.17432603641337243716;-0.46092419405773465968;0.078166163318523704251;-0.44742217104480908052;1.3465347625825951905;-0.11763019371637972732;0.75547532640758130462;-1.0951809976115451928;-1.4142914914285447114;-1.7883178035243172399;2.2076041069867744504;0.92554369961983173898;1.7619381979224235657;-0.42720482239560647608;0.14080428294497857045;1.913536077398752866;-2.0794954542135943854;-0.21215587766451446394;0.65407476247435425432;0.8191454044125003886;0.8937336353781737408];
LW2_1 = [-0.20172177920266928797 1.6241084444338398374 0.78253829996330681595 -1.1881535345261702297 0.1945765746183456546 1.8609555464080480558 -1.4391436627775031631 -1.2411633807455213496 0.22867201674931486588 -1.0646819913357510323 0.39844151112952780336 -1.6638350555132923603 0.082275565248208976099 2.6017890864386044036 -1.0229999735778529946 0.031636740586720203672 -1.9310105478773962329 -1.5378679430007959894 -2.7060117819780922233 -2.3298183223750976722 1.1052287061519887601 1.3267462522127722035 0.48914655594590816801 -1.9494074976472068883 -0.30700461417997437774 -0.0061740498130099293744 0.077689341661050556609 0.45540933869883420959 -0.55671275009463172534 -0.086699266987598833101;-1.0245281159749850541 0.69418897737648632695 1.4313001780160521381 0.051635732305407272547 -0.037650349905432596576 -0.53591522624595411273 -1.5765127641744538511 -0.0069206167338841861544 -2.2237814540622355963 -2.3541180002442003705 -0.19079167189808790561 -0.95868783689321490638 0.078598877041355708073 1.1931213275686907149 -0.82176550577495344196 -0.3976884212795021023 -0.24914159927275647544 -0.263538379013479096 -1.823608434752683527 0.30635293914087113887 0.6846964788048199857 0.58192742408569586576 0.39908477188249685819 -0.32338546993673311647 -0.26345258736673082822 0.40829671167711673041 0.14213050590378020765 -0.97027560846577920461 0.70171216294387195322 -0.27846368710089264287;-1.3095908373377731504 0.21498245213044492319 1.5917839522543035802 -0.097555305299065558922 -0.068167439702261287127 0.61831346404323461741 -0.92990205697593708578 -0.70643369777710718349 -1.5705361878323405023 -0.27028564651163999866 -0.29385669684601661844 0.28771908539581420028 -0.73425966090657490692 2.1880123272759002262 -2.5065648099650448266 -0.12336459184160455949 -3.0072824105000877104 0.4119275855892950422 -1.1612576686410807092 -0.71325108660516023384 -1.7145398198391197386 0.55911461436513731904 -0.62963041365193950227 -1.4420778402045069111 0.90386101906216831381 -0.33247121903311571689 -0.10692129326240724929 -0.87659448092973035749 -0.8491515746350064564 0.94192516344233812031;-0.07017242180247229566 0.93139263890745371821 -0.17798733894771992525 -1.4853661175016301677 -0.040083607335767663937 0.22962204944007597041 -0.75988634172234037489 0.93356550983999597726 -0.69604050062492039963 2.4450345604903911401 0.71091880138910001907 0.85569278075312660281 1.1690223783700433025 1.0709523316925921854 2.6304777010829880624 0.14681285988334810688 0.45678705954846909876 0.23160822077994835944 -1.0911247466261240202 -0.11969557398784851088 0.070392342210525010726 0.23578380695115128129 0.8914753734230166371 -0.81687277725942875062 -0.66783939104345957372 0.46831636484770083895 0.089273008954620244881 -0.15743097040020512245 -0.48922659387173322854 -1.438507177271211912;-0.67308919258358801407 -0.086033247690890365944 -0.37844274005438294228 0.49269732448711867079 0.040786351042951370094 0.13436297861931331687 -0.90969513076811303609 0.028446385396693266157 0.80461085072307836352 1.99558117375232702 0.084811134219551942426 0.63671185673636387925 0.10960596165126959556 0.14479962072407115414 1.9821938623483150721 0.68976416448477329002 -0.35078282637165830726 0.85297482738799712543 -0.31075768401937259311 0.86225793167127195993 0.26412195415046257896 -0.35105251242832513636 -0.61116773984324612723 0.5263715555065439089 -0.37360100844315463631 -1.0967777883338956091 0.36395260274079099805 -0.712677992366985813 -0.015354765282148415129 -0.53817639424097396539;0.17511267861495941056 0.064976951055336462648 -0.21539288508611523221 -0.4462832797368309623 0.056773296053986906096 -0.062339248441904047959 -0.45705126494724301889 0.12483451051983249225 0.14299429770775501369 0.16811654175849186088 0.50602454151407183502 0.4589776713583664236 -0.13086835485114992061 0.57347620695503964683 0.029598297249167741102 -0.21362918646705195136 0.98963920068417343678 1.8258668704900653523 -0.069642348334551185118 1.3201716437647461611 0.14109135179735696197 0.34220605410424853599 0.24595304578275800633 0.80048697929406631424 0.01658303570811447622 0.25292355721723153161 0.28823567072925831978 -0.11114464729148412769 -0.13298405792300355133 -0.95778388995462604427;2.9958061649776288604 1.2193675162412871416 0.5012205723251715872 -2.7432387298319858004 0.42240139967633189011 2.1657665480663323976 -2.4432181337461189585 -0.72613254250845493676 -0.88159740852522305854 0.24988295213270228512 -0.14072574853673144868 1.9733399661172836836 -0.11707460098238525736 -1.2694314855676795961 1.2038375892423984759 2.1582950698180503046 -0.84908971245935904726 -1.1156080644287338366 5.3694672560497673786 1.046726835326177385 0.17049437641884176986 0.80922054691477918187 0.74205228325441918713 -0.97049119092683433507 0.035953166090605948035 -2.6637176239459496863 0.47831360917538040534 -0.2198517410127859284 -0.40353559891339702004 -1.1138792733762263865;0.080353622845557248766 0.081847627634955455456 0.040340109042858458832 0.052385091642039124937 0.78207129233274708113 0.0055376166601967535819 0.11547438006205541783 -0.054905750949027151697 0.011395680829675411752 0.034480289669771256589 -0.20210676347902151173 -0.032841964554042014923 -0.065871353203437912893 -0.067069100910921303216 0.10161796171823878066 -0.334864316356918712 -0.095239666656250304699 0.13251234614108409193 0.061253823559579333169 0.04095136499482519149 -0.08197331488537991373 -0.03701899388153589987 4.4869853392060701225 -0.36227323278674877782 -0.0014705601669836127973 -0.021154417460789186334 0.14514330294065969085 0.048131962005985448605 0.024443445704772515797 -0.085174968357757577242;-0.16482108517635543632 -0.25694699728939335293 -0.26645928070864088877 -0.42671919854000595063 0.15098325703798071151 0.43778362291560862785 -0.11365205988331532339 -0.15112647543392662697 -0.13219778219166664068 -0.18859367611838120937 -0.21955372430930214511 0.55475578489213861477 0.028476769985002283597 0.24005621934771681492 -0.16468756815609186805 0.10881698821729161863 -0.029987069728145143016 0.096928186405576544082 0.034669165252986841597 0.0090531557455700451681 -0.30230423819303586797 0.020288495177873656916 -3.1373925734169110235 -0.32191330163064696412 0.17981173868208336075 0.28941150510314656019 -0.14735063593456129705 -0.075796648871463867536 -0.079272475546409565395 0.24919271845107746066;-0.83263605486796143929 0.10718208847616729484 1.3889241221502406365 0.22046439137863774183 0.047711565028562767654 0.78195674255712255274 -0.670016320063486992 -0.92311568914508279615 -0.9143234494228461573 -1.2712032000736235293 -2.0829060369956002852 -1.7271193609908577216 -0.3531270304978864627 2.5051886009694088742 -1.6314430390581042829 -0.026136415924366256797 1.2324777275132179355 -1.5182534165600805043 -1.340456486287189497 0.22610016400478660792 -1.2209219977045329131 0.83499406681997290214 -0.11457356791285597253 -0.53512362621279796482 -1.0185203256264987459 -0.3453729461160976455 -0.33162012419225672666 0.84086284854590842563 0.38461764355320804398 0.47385673125009653006;3.0492165418895100792 0.94941214732026546486 0.80216834961914795787 0.54880491929386909788 0.33747623761829032007 3.4706354362079703257 -1.7300724491010832651 -1.0920957214441935346 -0.74309982708390198702 -0.35989407154648878073 -0.64228776966205547438 0.72535113007583584821 0.16990755849788394261 -2.4581213256482912222 0.64521752926721298582 2.5042668710860342962 1.5013555551176600567 -1.4541303521800319487 3.7319419730439302718 0.8953239343266430339 2.6027758510606826547 -0.27197327797578663144 -0.074937015724953176532 0.99349115849145142043 -0.46244947460118945859 -2.680066027174873966 0.63607307137456425838 0.240958750181573228 0.18868390378263930063 -1.7585416921227114972;-1.0472229378807929034 -0.17752879012206765341 0.3529074801525450833 -1.1519127363689543042 -0.073243364861082752015 0.72328008906184115823 -0.60297207700979416067 -0.35367389260849946275 -0.23206354527214614891 -1.6518187812517881596 -0.58132694758135328161 0.67327497466449315322 -0.11436472619261117689 -1.1149158501153015877 -0.38566589608771506548 0.1921411130769234421 -0.19457637208746031421 -0.27621842239226535032 2.6319255939114816201 1.0020242761517708097 -2.2434497958622188207 -0.54945730306957263345 -1.5328269364969915323 -0.84527951668907130856 0.41138786194426230081 0.16635428807646557292 0.67983773665202695824 0.33909508883777772503 -0.17943001937363484144 -0.81077831327040617015;1.082237785026594068 -0.64455783570365676738 0.34253947201037160397 -1.636543240556002532 -0.15867986633022557186 -1.0707797401849896701 0.39906568419289140115 0.58883788984517959619 0.49193252433992801231 -2.4649202745306912909 0.11273341127573587028 0.11525510084818341161 -0.32643648816982817618 0.63726426016690107534 -1.0004976336268600612 -0.42713006791761565228 1.5904006659312968086 0.17782146876365145793 -0.82932132515664780392 1.1546195079278507301 0.26587182690593652579 0.29370061274267345031 0.50030173918280473888 0.15460484840541210971 0.67158371989363985222 1.8868758479955027862 0.25788898086715233982 0.57066934422373682967 -0.47674673109190529585 1.2137749897593999027;-0.95487192816514832039 0.23047052704168935477 -0.53373156162855273088 -0.7685590794230585665 0.00053590901196940831513 -0.88594137972286146621 1.0448002335377251093 -0.47734485097514861573 -0.28468197361942276791 1.1248275412425741138 -0.47300468469879397571 1.2458823244791337181 -0.24459239156561449202 0.53694100012938128508 -0.48053174940890031053 -0.34598361183737302849 -2.0676355653674267643 -0.51604296414876316135 1.1779177768870829901 -0.93011068420879383645 -2.0902979795527949491 -0.24167175303806376352 -1.5870957508907064248 -1.4206677493587447358 0.491541079330342634 -0.044258199852983570732 -0.25727221569031066828 0.11695350826861436455 -0.36693067225803688292 -0.20481177631807442885;-0.075195108812293937062 0.015673587018233625656 -1.2687794389976105869 0.45913193748290798135 0.069207220799575835946 0.78389625800026196956 -1.1659746316917458664 0.19685757691442809514 -0.24446594514511454932 0.2892058323236917361 0.31761315527487832266 1.7897254164024061218 0.61420147822856285824 -0.18632010982541355459 0.30659347061460190398 0.21125663671514802178 -0.16196692767967815763 0.26334360642957516108 0.97263864266947053228 0.83297987684718932666 -0.81075474044179940414 0.22234688365594104664 -0.43905851294285153097 -0.18695808406309066818 -0.71744652335889524952 -0.18313110502435736571 -0.10480852588034601791 -0.65764146152898339537 0.3359479442379540437 0.087049091801833788917;0.60669931576017999131 1.0039665768801957491 -0.021917977335803875971 -1.8426410249070506175 -0.063055962106650140231 0.018464084667774695314 -0.010936404390913919554 -0.97986932590509057128 0.75362556778993494699 -1.0683605813778798144 1.6100694103671788771 0.080603711842658090636 -0.46166114664038820914 0.11323718862312324995 -0.096503225288162575168 -0.52645733193672672456 0.41728355389923310614 0.62275888659103362244 0.61510170395843044577 0.43489625159282507827 -0.14591141559336512357 -1.0002587744744686482 -0.21795236552020461063 -0.30486398502032396873 0.4371964195834106004 1.8041743468280477813 0.035756309737250746572 -0.37080964767644958302 0.82058229563160345332 -0.21440301723954971469;0.50728997046404467053 -0.65199739134579526301 -0.91900539562727556753 -0.32193378903613695252 -0.033652726878185636183 2.169641698342668068 -0.9952549800314028916 -1.0759311532908004683 0.37831297240028238793 -2.3446769733209564812 0.16863259637956087844 1.5645531145240603177 -0.48589032723530395375 -0.30551360716964354181 -3.2642855257526073309 0.50873009808758407058 0.33682700184572011981 1.6505928762130652743 -3.2595193691311297179 -2.1185136546761795806 -2.413114112017795243 1.3328857857255520525 -0.30016899649802714078 -0.9229478468529390689 -0.62387931785039818511 1.021750957238404256 0.91753944479458815486 -1.4982319823857597196 1.7527399449749423432 0.68090871862236190815;-1.775294254379980563 -0.16687899649995291407 0.12851514706389463583 0.74637926056232151151 0.14595225073388007342 0.19327506910702951792 -0.072777535655536823578 0.32290323356394473597 -1.1638439000080524899 -0.9522717699122419388 -1.3268323923887819227 -0.13066460001581187145 0.6595045004342547923 -0.77120790296177998968 0.18436143211825320454 0.2823590630167738813 -2.4490724797071110608 -0.45143322745063896306 1.2194312635015718271 0.5073468491708681416 -1.8641325250928288959 -1.9959947328502505304 -0.60262105656157327616 -0.85043872109152796046 -1.9094691233453835455 0.26135681694697243671 -0.14847494755632975605 1.3293301959415102509 1.2735891386063364905 -0.73538196277757084118;1.0499717688080045797 0.12858241045512000533 1.1929068891825929111 -0.42067780961357092995 0.16849453047138479578 -0.41697725685915615346 0.3112829732023506546 0.26121687712825275574 -0.53409049997923341291 -0.40970474997193834232 -1.3544277013876271365 -1.6649549770761127299 0.03337999315948724649 -0.32609293490670621107 0.80952298416880918985 0.98920533398273591263 -1.006598025936114249 -0.27434119547034813147 0.44537324479234430274 0.40371627909384588673 -1.3558149711042064567 0.84389671069582539165 -1.6675774074782252487 -1.0852114629707521054 -0.093976293746091663084 -0.69018820080442577769 0.1424739590715496107 0.65365629146997283883 -0.39683995666755622622 0.15306943070585293798;0.078425738142382517282 0.058606050419742455881 0.086781203572418905146 0.88907429103810842186 0.55464267513661080766 -0.15295316102445574713 0.023238424036697773872 0.043804820759000363817 0.042952455745343148807 0.032590447985018845822 0.12581658194491565639 -0.16228320967436843381 0.016271953666329608268 -0.046172214116311879883 0.022145233403736735295 0.084655508416084587764 0.17531363009485836923 -0.053264982547580524974 -0.024417066208798215987 -0.021472843118980622368 0.097548153894098446615 0.0042618891324761373068 -2.2861768333397831654 0.2160911132127931733 -0.034873361516751764932 -0.062693063590544023667 -0.052755391867711526332 0.0094494549421777936093 0.011461449713857452606 -0.060378523179648223296;-1.2962427714804851675 -0.53258837135471792656 -1.3656535334215378352 -0.38378373538309012991 -0.032585392732770418478 -0.36560132362404723638 -1.6124041911380835312 1.1893612501132964088 -1.6266207255490992001 -1.2550557876359231813 -1.2237831228237203707 1.5624521166305238573 -1.4619102296707853217 -0.72995632521648756708 -0.93552260982686330504 -1.7621578302108336089 1.8705096716740352569 0.21880079194848345292 -2.6161371255937369007 0.30577511904315179958 1.7448609020104577372 -0.4671628370243796069 1.4734570971641833825 0.74023427483497306056 1.0357958761104879564 -0.043539161447795196591 -0.15376497296834620854 -2.6866058806094272882 0.32569791731108815869 0.35497996761457289994;-1.8322891926208266788 -1.2102166100449245345 0.4871190910953031028 0.28483745324646303487 -0.073706017239437413013 -0.3243427673372809017 1.0214400605188620474 0.19071878978841796948 1.0812793311586732514 0.7885515164818249767 -0.11232153493820827561 0.1919002347990387547 -1.0687414752094748227 1.1077589940602545759 -0.43635418526977481912 -0.033744769770144858456 -0.41489246610516850033 -0.11490113063503407109 2.9951645338092043325 0.61603197767370654336 -1.160416039326159332 -0.083444598656902860268 -1.9051325538007537475 0.27712847649309024778 -0.24705387058299702052 -1.2971474064515253755 0.16069067057053279535 -0.74744944834707116588 -0.65592747248083382861 -0.16622893035284916352;-0.58090974016763419208 0.62486828626904666883 1.4813798125587831489 -0.23721156377550717265 0.14704135608319127138 -0.78958719007342392793 -0.8685089924984341625 0.91600476267327435309 -1.6241331166837604805 1.8996029752519831835 0.43986280582664699645 -2.5804139391836220518 -0.97665940764585423839 -0.85441250607824748009 1.7324695808337242653 -0.25854954155637188684 -2.2983775933461654262 0.39511714078930304517 -0.96117412269346480524 -0.17415031404098971213 -0.20329501561099130869 0.21989850584507844578 0.60699775919261411694 -0.96221542580840124792 0.45563618841898462231 -1.076079907298108651 0.060613030468634587766 -1.1339460017659748203 -0.015886055555893157515 -0.70397108421060139438;0.57036787715334225091 0.67839865458094439354 0.53424887074274329812 -0.5030027711268661994 -0.039269419043310445361 0.63399102573389898296 -0.42103380825123121189 -1.9495543940265407379 1.241408207899879379 0.17915410538770662474 2.0095425661358827796 0.29265304310638456942 0.66529189672108623999 0.61647732217589656933 -0.21624937645829139798 0.022132054357536894151 -0.73071148149618370127 -0.73854096146488867891 2.5567346718940666683 -0.93571133676599738127 -0.76417682682119780768 -0.36519197656552404574 0.095634421089914364855 0.15908052815230000476 -1.0318480315253026891 -0.85744043008343473478 0.039825263806100033581 -0.14632738022896296659 0.10654734365452900313 -1.2419557856110015059;-0.19488582580588131865 0.35268146580709408555 0.87708643734932534297 1.6208924638056003698 0.046480395576879447728 1.2186866871292194592 -1.3288205313779877237 0.4585801308695370837 -0.54404147812910208515 -0.35576414340836348682 0.74738451631549907006 -1.0203149028788995878 -0.64616302271482206621 0.027444959807785527378 0.020405979157674218605 -0.5946840163357587361 1.3837137425344319119 -0.53025395610355874343 -0.48557032909220421146 -1.2588408578507916946 1.9566633114886136102 0.012974509358855294827 0.071788699475288347829 0.43677052093486345985 -0.21733940156391698406 -0.60938306419086840648 0.079135535920791658104 -0.21240541529228212925 0.72813522534173236167 -0.29797160560961738485;-0.34850381383920164824 -0.46962521206408086583 -1.0673215832957478888 -0.59074927011141420419 0.008612874255463105061 0.32441201248575501914 0.46405402631415915149 0.46359403699297813128 1.061052569491590436 0.6197401410996823401 -1.2496104695580696475 2.5652096571524252155 1.7974889027801985719 1.2960103090970582773 0.29512284592439463893 0.63062991616284480578 -0.68250054532278714436 -1.1944151219769063577 -0.98848391925058920471 -1.2725955567597830864 2.0067120092097181505 0.58026117269284316347 -0.75509118761903448735 -1.8451364718278611132 0.71920942427316703061 0.092251995944117426429 -0.12828624530960033856 -0.47788421967954558545 -0.47079082964245294596 1.0439657260800130345;-0.5094569762634222343 0.26326852534103478698 0.48067430065997590605 0.50014377083330030516 0.089952551921614373742 -1.5781142975058950473 -1.3104040615365273315 1.4782126827551362869 0.88808621103075524594 1.1011573552043965041 -0.6911664305205166281 0.28791595401203151638 -0.13408427915925286156 0.29495576603229584078 0.30124598232419791399 -0.25110797636858478432 -0.51563537044903673401 -0.81605962983299107361 0.70271362940565562649 -0.035218946196981584795 0.83604533088705967891 0.7500337059810844309 -0.028891729877146010014 -0.15831710657923053764 0.28121203478087569705 -0.45735258576448878376 -0.13724846446045380066 -1.2034479347530127047 0.18762270636725900119 -0.64089927106347355235;-0.045309121393797634203 -0.099682999393713736525 -0.12169509399345576628 0.58649717073645135645 0.084859216221771949229 0.18528456866709130946 -0.062947801810522091559 -0.060333897231580245479 -0.059487355165913524679 -0.074957327031527604122 -0.10628187790800550094 0.25434366391715179656 0.011486878368636703474 0.10580662674375489185 -0.06375492649782971144 -0.00074039820453517847521 -0.045967889538064084232 0.0479830722911374144 0.017774267166644680538 0.0067607369671861261562 -0.13378433370086631471 0.02176042562191545307 -0.84123067315506316888 -0.15414421499946229233 0.075092067361701181349 0.12114315391468946648 -0.052176711369011745389 -0.035420289609919643203 -0.031247270316999749967 0.10265157005976417726;0.50585221785582534793 -0.095108416351242550113 -1.7678865308519053912 0.79249073402036007696 0.14770861112812461169 -2.9786386566316540581 -1.4096955341061592204 0.37919290011782430527 0.50645226711715363166 -1.4619350807625079991 -0.69957220659545926722 1.8993675753064314105 0.29457671125640821908 -0.66623583022912091778 -0.26905089447752844611 -0.43301407481481823947 -2.3497920152905722446 -1.9388684891509813113 1.0990157630565613456 0.0053368853853696628098 -0.48476906623066362556 -0.93661077925167557368 -0.2225214005684183205 -2.3503742751998442095 0.045914811338076025327 1.0677450057049615584 0.061337152932305516462 -1.0682146827374645603 -1.0127136668430614108 1.2063970732586843937;0.75647741733045092971 -0.4555057926087465181 -0.12823458182358188351 -1.9898810789105656482 -0.15213549307520479736 0.57294169984876042179 -0.81914137531510533563 -0.17740742305040002602 -1.3562100090289521681 -1.0898940859431887063 -0.23012569610106320406 -0.73557424669685378404 -0.089701684741510148702 -0.78572730110207933407 -2.193103981621498999 -0.43004849404126332946 0.32908537103783325195 -0.12433753447195129704 -0.28994938579991408334 0.045392510180838743783 1.6859781370105286769 0.022630132130915865674 1.4660661477241176964 0.15596339474904874489 0.87419033161022274836 1.0592081373196702287 -0.27237285915551628923 -0.56443810960059648263 -0.67661318361090894147 -0.11542354448554328905];

% Layer 3
b3 = [-2.1033581931045577385;1.8340961814268590402;-0.16871680039037692533];
LW3_2 = [1.4324163411177559535 1.7595182535585407457 -2.2955510354512904669 -2.5282622397574083806 3.1479083654278183779 -3.1355882379726138787 -4.5881954358623389112 0.10888149786885016612 -3.0635226420816081827 2.0067169514289040499 4.8256625443103535744 -1.9223626182406980956 1.3028857418966433013 4.0687824314508427292 4.0037383024370623019 1.9390148285369099845 -1.1727677850544078186 -0.98265897682815717129 1.8849291743845912883 0.94179273519287509675 -1.9230819148841535871 2.4188018972974840715 -1.2822696817969945204 -2.1483483434346504204 2.6011927341966196714 2.2094084395646285124 -2.1494970709954275279 -1.00233346668002965 -1.5640593243180169747 2.5775485848447559079;0.032040369503372481685 0.0073190368101739983198 -0.021742107001139879957 -0.044542969999637443967 0.033878311513573351743 -2.1171671658239286096 -0.10885945830803037127 -4.5976740163803784256 -4.6049490344179995205 0.027693822936853351724 0.11273043872698809698 -0.040253192568921361549 0.080194956009048107282 0.065618552088528681043 0.046259768643987633774 0.062601261651750936266 -0.047648875356084537114 -0.039754530495174134064 0.044307526959810633604 -5.4729481792623735359 -0.057427304066693149465 0.05900083866324645071 0.014842188975187449104 -0.010381740204230044747 0.047658152507195343517 0.059385383945867314948 -0.070288181713665284778 7.0354427296434867145 -0.043159503126740147994 0.032945108952874918584;-0.069499154773871210655 -0.08649958840719702835 0.11270238172214118444 0.12857187789364107888 -0.15290681393049498915 0.1360719206747617871 0.22655596816531939353 0.21820593101068064268 1.538427589703633469 -0.097112773872083418825 -0.23583338847315385434 0.091909025385030485022 -0.068381637322503477372 -0.19942416649417457619 -0.19204554834616222037 -0.091966753423308719717 0.054404221549816923764 0.050486654174624390201 -0.089663872963909180269 -0.27218297327243756722 0.09441869706928276984 -0.11845201731274948576 0.06452094532861017695 0.10364384464200970815 -0.13050729076304845577 -0.10572116037320726523 0.12785703555605962278 -3.1687420248376501064 0.074022834298800493924 -0.12508402879521102191];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [1.11974596758964;1.55547671768279;1.14345745668368];
y1_step1.xoffset = [-0.999771981642883;-1;-0.74908125204807];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = repmat(b3,1,Q) + LW3_2*a2;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a3,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(3,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
